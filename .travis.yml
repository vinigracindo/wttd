language: python
python:
- 3.6.1
services: postgresql
addons:
  postgresql: '9.6'
install:
- cp contrib/env-sample .env
- pip install -q -r requirements-dev.txt
before_script:
- psql -c "CREATE DATABASE travisci;" -U postgres
- python manage.py migrate --noinput
- python manage.py collectstatic --noinput --no-post-process
script:
- flake8 .
- coverage run --source=eventex manage.py test -v 3
after_success:
- codecov
notifications:
  slack:
    secure: gWpwPXAoGSebb759B6UFkjAhzgNqbelL7ylR5eppL/LtcTBeEJkamVFojS7pBNnkcMaRhL0gqr2E9ETqrCBy6N8OJeQjmwRJNwjJwfXfBWsVlSwjQdzO1IuoIsX6FAP98w3VFS5mkm7QS1FhVCMsv9BOjAsggH6HjUUWbgQ35hnQ8JV4DgC8P6gX2No5oCSCM3UzkGC35z6WmyR4rZv9rhnLq/PSatlrKYgFINcUSBy9typL+5xhjqcYs493qcmYBDvcoB8X7lzhylfSmNl5jGm6i3pLlYa/tk2VNDpZf9FR85SwXbn44LWVV9svhgs91vp0tW8HBBiXwqjwBOAckzxYa8xqFAEvx+yCiNmGBA+d8xe6L0eB4++wkvDNyMlW5ix/StO9d2jJTkwyw77ksvj44IN8RROBVczgt/361o+wJbo35Ix/TQPAS+KneWFfInXrzz/BTLC6q8Aw2DA+AYdNLj/rxyLzs3GEgG+vSWD2ILnfQYKdEtsjxY+Ox2tRgaK6Xv1QuFdVgoUDc79Bz0dg7Giwc1ZwS1TlozsMDx1aj8ajKzu8cCErSZGNaH98IdH/luJ4dR8XQGRkbEv7hguUtSshm4muTene2YII6m32bgQXljSnlaHEtGd2yCjuiX/xVvLlsKPZAX1oN2oaDULWoX12dPndbggzhwy+qQg=
